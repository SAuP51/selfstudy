# 0103. 鸿蒙 3：手机上的鸿蒙

昨天我们介绍了，谷歌的安卓系统为什么形成了一套生态系统，那就是因为，谷歌的安卓系统除了有安卓开源项目（AOSP）外，还配有 GMS，也就是谷歌移动服务。这里就包含了通知系统 + 账号系统 + 软件认证系统 + 付费与分成系统。

昨天只说了通知系统，今天我们继续说后面的几项。

谷歌的生态

账号系统很好理解。每个手机作为这个生态大家庭中的一个参与者，身份当然要明确，通常用谷歌 Gmail 邮箱注册最方便。而一个型号的手机是不是属于谷歌生态系统，要看它是不是安装了经过谷歌授权的 GMS。

在谷歌的软件商店里，所有 App 也都是按照 GMS 的框架开发的。按这个标准开发的所有 App 经过谷歌的审核后，都可以在谷歌软件商店里下载到，哪怕是一个游戏，也都是符合这个框架的。于是，用户在这类 App 里的付费购买行为就可以纳入谷歌生态系统的金钱收入中，其中 70% 归开发者，30% 作为服务费归谷歌。

你可能觉得，这么说下来，谷歌给安卓开源项目配上 GMS 后，不就和苹果的 iPhone 生态环境很像了吗？只要把其中的谷歌换成苹果，逻辑都是一样的。没错，谷歌和苹果在这一点上几乎是想到了一起的，但它们一个贯彻的比较彻底，一个并没能在所有类型的手机上都做到统一模式，起码中国的绝大部分安卓手机就不在这个生态中。

谷歌之所以没能做到像苹果那样如此高度统一，和那个安卓开源项目（AOSP）的存在有很大关系。这里，我们再次把那张安卓操作系统结构图拿出来看一下。

我们一直在说的 GMS，就是图中用蓝色框出来的，包括活动管理器、内容提供者、消息管理器等等。这部分对于国内安卓手机来说，就是剔除掉的。换句话说，没有了这些部分，国内的安卓手机就没法安装谷歌软件商店里的应用了。

你说，我是一个普通用户，不必非要去谷歌软件商店下载应用啊，我可以用豌豆荚或者 91 助手，或者就用小米商店之类的。这种需求只有中国有，除了中国外，全球所有安卓手机几乎都从谷歌软件商店下载安装 App，因为生态已经形成，没有哪个创业者打算另外做一个软件市场，因为世界上不会有多少用户会去那里下载不知道什么来路的软件。

作为一个软件开发者，如果不去提交谷歌软件商店，其实也就意味着他只能提交到中国的各种软件商店里去。所以只要你是安卓手机，在中国以外就必须加入谷歌大家庭，哪怕是小米、华为、VIVO 这些品牌把手机卖到欧美，那些型号的手机也和国内的不一样。原因就是，它们会要到谷歌的授权，默认开启 GMS，否则一台手机都卖不出去了。

不加 GMS 的安卓手机又是怎么生存的呢？

其实这个我们应该非常熟悉，就是当前各品牌手机自己建立一个软件市场或者应用商店。这些手机没有 GMS 的后果是什么呢？就是今天各种 App 在手机里疯狂的自启动，互相杀进程，然后疯狂的读取我们的定位信息。我们之前说过，一台安卓手机平均一天会被读取位置信息 3000 多次，通信录和相册的权限也会被读取，用来分析用户画像。

在有谷歌一家独大，并且诚信方面基本过关的情况下，所有软件要登陆谷歌软件商店，都要经过类似苹果的 App Store 一样的审核。在这种级别的审核里，那些乱象就几乎没有。

除此之外，还有几十个其他的、只经营软件市场的平台，比如豌豆荚、91 助手这类的。在这种竞争格局中，各类市场面对的都是同一个问题：如何让我的市场看上去 App 种类多又全呢？这样的风向就造成了软件市场求着开发者上架的局面。有些小品牌的手机，开发者想往 App 里加什么功能就加什么功能，哪怕这些功能在欧美是直接可以坐牢的，也无所谓。虽然大品牌手机的软件市场会稍微好一些，但情况也远不如 iOS 里干净。

而环境塑造行为，有 GMS 的生态环境和各种法律的制约，那些在国内疯狂自启动和获取个人隐私的 App，它们的海外版就是规规矩矩的了。要加入安卓大家庭，就要使用 GMS。而要使用 GMS，就必须获得谷歌的授权，通过它的审核。

华为的绝地一搏

2019 年 5 月 15 日，华为被美国列入了实体清单，也就是说，很多商品和服务禁止出口给华为了。GMS 也自然无法授权给华为，这就是所谓的「谷歌禁止华为」，实际上谷歌并不想禁止华为，这是美国政府出口禁令的附带影响。

失去了 GMS 的授权的直接影响是，华为的手机在海外就没法卖了。但这一禁令对华为国内版本的手机影响不那么大，因为国内手机本来就默认不启动 GMS，或者压根不安装。

所以，要评估这个禁令带来的影响究竟多大，就要看华为手机海外和国内市场的比例如何。

数据是这样的：在受到实体清单影响的前一年，也就是 2018 年，华为收集的总销量是 2 亿台，其中大约 45% 是海外市场的，另外 55% 是国内市场的。而且，海外市场拓展的势头在那时非常迅猛。如果没有被限制，今后还有可能继续快速增长。

但是，在芯片断供和 GMS 禁止授权后，到了 2020 年第二季度，靠着之前预防性的囤积，华为的手机还没有断货，但海外市场的比例已经降低到了 28%。而 2021 年，当囤积的芯片也用尽的时候，其实谈海外市场份额占比多少已经没有意义了，因为华为手机的总销量已经下降到巅峰时期的 1/4 了，而且还会不可避免的继续下滑。

这不是华为自身实力能改变的，相当的无奈。

面临压力的时候，华为也决定搏一把，把自己可以争取一下的部分争取到位。华为被掐断的是两部分，硬件部分是芯片。这方面，华为无论如何是没有办法凭借一己之力搞定最终产品的。但在操作系统上，其实还是可以凭自身实力做一些突破的。而这个突破就是我们在 2021 年 6 月 2 日鸿蒙发布会上看到的那个手机上的操作系统 HarmonyOS（鸿蒙系统）。

鸿蒙是不是安卓套了个壳？

不过，这里我们先提前预告一下：其实鸿蒙不只有一个，而是还有另外一个，它们经常被混淆，也制造了很多误解。

在很多程序员眼里，鸿蒙和 MIUI、Flyme 是一样的，就是安卓开源项目再套一个自己开发的用户界面。这个说法对不对呢？当前状况下基本正确。所以，这也是为什么刚刚升级了所谓的全新开发的操作系统，竟然手机里原来所有的 App 都没有发生兼容问题的根本原因。因为新版的鸿蒙系统就是安卓开源项目的底子，主要变化就体现在用户界面设计上。

一般来说，一套全新的操作系统必然会产生大量的兼容问题，这是无论多么牛的企业都无法避免的。眼前的例子就有苹果和 Intel 说拜拜之后，Mac 电脑换用了自己的 M1 芯片，随之而来的就是更换操作系统。但苹果升级全新自研的操作系统的方法和华为的举动完全相反，它们保持了用户界面的高度一致，表面上看分不出区别，而是对操作系统底层的部分做大手术，尤其是编译器换成了 Rosetta2。这必然会导致一部分软件出现兼容问题。

为此，一些开发者还专门列了一个表格，里面把软件兼容问题分成 3 类，一类是 M1 原生支持，一类是只有 Rosetta2 支持，第三类就是完全不兼容。连苹果这样顶级的水准都要为兼容问题设立 2 年的过渡期，那么，任何一个操作系统做切换和变更时都不可能达到华为这次升级的完美程度，所以其实当前，手机鸿蒙就是安卓开源项目。

不过，如果就把鸿蒙和 Flyme、ColorOS、MIUI 归为一类，还是有点儿冤枉鸿蒙了。为什么呢？因为这只是当下的状况。Flyme、ColorOS、MIUI 这些手机品牌没有被美国列入实体清单，所以继续发展下去，也就是一个更好的用户界面，顶多是其中最大的两家品牌试图建立自己的安卓生态系统，也就是仿照谷歌的 GMS，也出一套自己的 GMS。但是这件事对它们来说，并不急迫。

比如说小米，你说它今后十年的重心还在手机上吗？肯定不是了，一定是造车上了，建立一套自己的通知系统，还得劝说其他品牌的手机加入其中，这种事情基本只能由非手机厂商来做，否则利益相抵触，别的品牌的手机是不会参与其中的。

而鸿蒙只是当前是安卓开源项目（AOSP），它今后努力的方向是一点点去除对安卓开源项目（AOSP）的依赖。如果一切都顺利的话，也许在几十年后，会成为一个全新的独立于安卓开源项目的操作系统，并且受到广泛认同的操作系统。这就是华为手机鸿蒙操作系统被说成是安卓套壳，冤枉的地方。

但这还没有完，因为如果你留意的话，我一直在说手机鸿蒙。其实鸿蒙有两个，手机鸿蒙和物联网鸿蒙。

今天我们说了，手机鸿蒙的未来是一点点去除对安卓开源项目的依赖。明天，我们说说另外一个鸿蒙，那个才是号称一行安卓代码都没有用、真正独立研发的鸿蒙操作系统。

我是卓克，我们明天再见。

