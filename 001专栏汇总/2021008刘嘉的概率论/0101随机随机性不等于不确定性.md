# 0101. 随机：随机性不等于不确定性

刘嘉·概率论 22 讲

2020-07-19

从这一讲开始，我们正式进入概率论这座大厦。大厦之所以能平地而起，是因为有牢固的基石存在。而概率论这座宏伟的大厦，也有四块不可动摇的基石。这一讲，我就带你了解概率论的第一块基石 —— 随机。

## 1.1 随机就是不可预测

上一讲我们说，概率论解决问题的思路，就是把局部的随机性转变为整体的确定性。这句话里，有个很重要的词 —— 随机。问题来了，到底什么是随机呢？

生活里，你肯定经常用到「随机」这个词。听歌选择随机播放时，你的意思是说，我不想知道接下来播放哪一首歌，机器帮我挑一首就行。逛街被拦下填写问卷时，对方会告诉你，他们是随机选择的，事先并不知道会选中你。打篮球投篮时，我们说这次投篮是否命中是随机的，无法预测……

我们常常用到随机这个词，但你说，到底什么是随机呢？发现了吧？我们似乎模模糊糊知道随机是什么，可是真要解释一下，好像又不太能说得明白。其实不光你说不明白，数学家们争论了这么多年，也没法给出个统一的定义。他们能达成的唯一共识就是 —— 随机就是不可预测。我们说一个事情是随机的，指的就是它发生的结果不能被预测。

2『随机，做一张术语卡片。（2021-02-10）』

## 1.2 随机性不等于不确定性

很多人，包括大部分书籍文章，都会告诉我们：随机是不可预测，而不可预测就是不确定，所以随机性和不确定性是一回事。但事实上，这两个概念并不相同。

随机性和不确定性最大的差别就在于，这个事件可能出现的结果是否可知。简单地讲，随机性是这个事件可能出现的结果我都知道，只是不知道下一次会出现哪个结果。随机播放音乐，虽然不知道接下来会播放哪一首，但歌单里总共 10 首歌，下一首肯定是这 10 首里的一首。在街上被拦下，对方不知道被选中的一定是你，但是「每走过 10 个人就拦下一个」的规则是提前设计好的，被选中的一定在这路过的 10 个人里。打篮球时虽然不知道下一次投篮会不会命中，但只有投中和投丢两种可能的结果。你看，可能的结果都是可知的。

而不确定性，是我连可能出现结果的选项都不知道。比如，我今天出门会发生什么事情，这就是不确定性，而不是随机性。因为可能发生的事太多了，堵车、下雨、碰到熟人、捡到钱…… 都可能发生，根本没法穷尽所有可能的结果。而只有知道了全部可能的结果，才能分析它们的概率；不知道可能的结果，就没法深入研究。所以说，概率论面对和处理的是随机性，而不是不确定性。随机事件结果选项可知的特性，是概率论发挥作用的基础。

本质上，不确定性包含随机性，随机性是不确定性的一种类型。拿我们熟悉的黑天鹅和灰犀牛这两个概念来说。作为无法预知的意外事件，黑天鹅就是不确定性。因为新风险的类型无法知晓，这种事情没法用概率描述。而作为可以预见的潜在风险，灰犀牛就是随机性。因为灰犀牛是已知的，你知道它很可能发生，只是不知道什么时候发生，这就是随机性。所以说，黑天鹅不是概率论讨论的内容，而灰犀牛却属于概率论研究的范畴。

1『这里才算明白之前听过的灰犀牛的概念，黑天鹅指代不确定性，而灰犀牛指代随机性。（2021-02-10）』

当然，很多不确定性是可以转变成随机性的。比如「我今天出门会发生什么事」这个问题，可能的结果没法穷尽，是个不确定性的问题。但如果把问题修改一下，「今天出门遇到的第一个人，是我认识的还是不认识的呢」，就把不确定性的问题变成了随机性的问题，变成了可能遇到认识的人和不认识的人的概率问题了。

尽量把不确定的问题，转变为随机的问题，用概率去研究，就是对付它们的科学方法。

## 1.3 真随机、伪随机和效果随机

知道了随机是不可预测，也知道了随机不等于不确定，接下来咱们深入到随机的内部，看看我们说的到底是哪个层面上的随机。

最高层面的随机当然是真随机，它在逻辑上就是绝对不可预测，这也是数学上的理想状态。世界上有没有这种绝对不可预测的现象呢？如果你去问物理学家，得到的答案可能是四个字 —— 量子涨落。啥意思呢？简单来说，量子理论的「测不准原理」允许空无一物的空间产生少许能量，这个能量的诞生是完全随机的。这个理论很复杂，你不需要深究它的意思，只要知道这个世界可能真的有真随机就好了。

现实生活中，这种绝对意义上的真随机几乎无法遇到。就如同「圆」这个概念，数学上，我们可以定义一个标准圆；但在现实世界，永远见不到一个绝对标准的圆。无论你画得多精准，肯定都有误差。但是没关系，只要从效果上来说是圆形的，我们就可以认为它是圆的。所以虽然不是绝对意义上的圆，我们仍然说硬币是圆的、井盖是圆的、「天宫一号」的对接口是圆的。

随机也是一样。绝对意义上的真随机很难获得，我们日常生活里打交道的，基本都不是绝对的真随机，而是另一个层面的随机 —— 效果随机。也就是说，虽然不是绝对意义上的随机，但只要我们感知到它的效果是随机的，就可以把它当随机来看待。比如前面举的投篮的例子。影响投篮是否命中的因素很多，像出手的角度、力度、速度、球的旋转、当时的风向等都有影响。如果把所有这些因素全部控制在适当的范围内，投出去的球就必然入筐。这时候结果就是确定的，而不再是随机的了。

但这种情况实在太难了。现实中，我们既没有办法完全控制出手时力量的细微差别，也没办法完全计算风向、空气密度这些环境因素的影响，所以投篮是否命中这件事对我们来说，仍然是随机的，我们把它视为效果随机。同样的，抛硬币、掷骰子的例子，也都是效果随机。

再说一遍，我们在现实生活里遇到的各种随机问题，基本都是效果随机。和真随机、效果随机对应的，生活里还有一些现象是典型的「伪随机」。就是说，这个事件看起来是随机的，但其实不是，我有证据证明它不是效果随机。怎么证明？当然是寻找规律。只要一件事是伪随机，它就一定有规律。

比如，石头剪刀布这样的游戏，出石头、剪刀还是布，每个人都有自己的规律，很难做到效果随机。一旦发现了这个规律，也就证明了它是伪随机。猜拳比赛中，水平高的选手就是能发现对手看似随机出拳中的规律罢了。这也是为什么我想使唤女儿干什么，或者不想让她玩 iPad、不想让她吃冰激凌的时候，总是跟她玩石头剪刀布的游戏。因为她的出拳规律很容易被我识破，我很容易就能赢她。当然，我希望我女儿听不到这一讲。事实上，人类是很差劲的随机生成者。我们越想制造随机，我们的主观性就越强，这样制造出来的随机，往往就是伪随机。

简单总结一下，绝对意义上的真随机存在于量子层面，现实中很难遇到；伪随机只是披着随机的外衣，它本身是有规律的；而我们现实中遇到的大部分现象，都是效果随机，这也是概率论这门学科研究的重点。

## 1.4 随机是世界的决定性力量

不管是真随机、效果随机还是伪随机，我们需要知道的是 —— 随机是这个世界决定性的力量。怎么解释这种力量的作用呢？我们举两个例子。

第一个例子，还说上一讲讲到的网球冠军费德勒。比赛里，费德勒的相对弱点是左手。因为接反手球时，大部分网球运动员是双手击球，而费德勒是单手击球。虽然单手反手速度快，但回球的力量相对较小。如果你大力给费德勒反手球，就会降低他回球的质量。怎么利用这一点呢？是不是要一直给他反手呢？

不是的。如果一直给他反手，他就能预测你的进攻，然后做出调整。你能利用的唯一机会，就是随机性。给他一定的正手、一定的反手，不让他知道你什么时候给反手，他就更可能暴露弱点。你看，这就是用随机性战胜对手的例子。

再举一个例子。我们知道，基因突变是随机的，但如果人类发明了抗某种害虫的转基因作物，会出现什么情况呢？在生存压力下，害虫会快速通过基因突变，有目的地进化出对抗这种抗虫性的能力。这样一来，这种转基因作物的抗虫性就失去了效果。我们该怎么办呢？

从随机的视角来看，我们应该在转基因作物的旁边开辟一块正常的区域，种上非转基因的作物，给害虫留一条出路，让害虫在这个正常的区域中继续进行随机性的基因突变。这就大大降低了它们进化出抗虫性的概率，这种转基因作物就能持续有效。你看，这也是利用随机性战胜对手的例子。

所以说，了解随机，你才会懂得随机的力量，才会更好地利用随机做出正确决策。至于我们该怎么度量和量化这些随机性呢？我们下一讲再说。

思考题：微信里的拼手气红包，你抢到的红包里的钱数是随机的吗？

## 黑板墙

### 01

首先我的结论是有规律的，并且我们做了实验。我们用微信红包的测试软件做了五十万次的测试，得到了一个有规律的但又令人发指的结论：1）首先，最后一个抽红包的人，抽中的额度会普遍偏高。2）尴尬的是，当你老谋深算的想最后一个去抢红包时，往往你会抢不到。3最）后补充一下，我们电脑软件比如 MATLAB 里的随机事件函数：random 等等，都是伪随机。

作者回复：躬身下场，这是用数学对象（概率）进行数学建模（统计），最值得夸耀的素质。

### 02

微信红包肯定不是随机的。虽然我不懂计算机科学，但觉得只要有算法，有硬件，软件等制约，就要么是效果随机，要么伪随机。另外最著名的例子恐怕就是苹果公司 iPod 最早推出「随机播放」功能的时候，用户发现有些歌曲会被重复播放，他们据此认为播放根本不随机。苹果公司只好放弃真正的随机算法，用乔布斯本人的话说，就是改进以后的算法使播放「更不随机以至于让人感觉更随机」。其实我现在突然怀疑哪怕是乔布斯最初推出的「随机播放」功能，真的是随机的吗？

作者回复：有限状态机是不能产生真随机的，所以计算机中的随机是伪随机发生器。效果随机一般需要和物理现象相关，比如硬币、骰子、转轮、裂变等等。计算机可以采集一些物理信息，达到或者尽可能接近效果随机，比如鼠标运动轨迹作为种子，通过电阻和振荡器生成热噪声等等。

### 03

关于效果随机和伪随机，是否同一个行为，对于不同的人来说是不同的呢？比如和女儿猜拳，对于您来说属于伪随机，而如果她跟另个小朋友猜拳，就成了效果随机？还比如，同样预测网球赛胜负，我从来不看网球，对于我就是效果随机；可能一个对网球以及比赛双方球员研究极深甚至用上了人工智能分析的人，对于他就成了伪随机问题。请教刘老师。

作者回复：从客观上，伪随机是可以寻找规律的状况。从主观上，虽然是伪随机，但你找不到规律，对你来说，可能就是效果随机了。

### 04

随机性不等于不确定性，而是相对确定的范围内，「出现」一个无法预测的具体结果。从这个角度讲，微信拼手气红包是在确定的总金额内，出现一个用户事先无法预测的具体数值。但这只是结果「看上去」像是随机，实际上每个红包里有多少钱，是一个基于某种特定计算方法生成的数字。尽管我们并不知道算法具体是什么，但基于这种算法的「规律」客观存在，它其实是一个伪随机过程，是用算法规律制造出「效果随机」的假象。类似的还有，比如支付宝的「蚂蚁森林」里，用户可以从好友那里「偷能量」，每个能量球最多只能被偷走一半，但具体能获得多少，也是通过算法得到的结果，是人为赋予一种规律，来模拟效果随机。

作者回复：抽象一点说，不涉及物理随机产生装置的，大都是伪随机。

### 05

如果一直给他反手，他就能预测你的进攻，然后做出调整。你能利用的唯一机会，就是随机性。给他一定的正手、一定的反手，不让他知道你什么时候给反手，他就更可能暴露弱点。你看，这就是用随机性战胜对手的例子。留言：老师，看到这一段关于打网球的策略时，我更多想到的是博弈论，为了贏费德勒，我们可以策略性的使用随机性让费德勒暴露反手缺点费德勒也清楚这一点的时候，费德勒应该采取怎样的策略来应对「随机性」呢。还有一个问题向老师请教一下哈，概率论和博弈论在学科上是否有重叠的部分，在什么情形下我们应该用概率论的知识去「解题」，什么情形下用博弈论的视角去「处理问题」。

作者回复：在使用随机的力量上，所有学科都是一致的，毕竟量子物理告诉我们，随机是这个世界的底色。

### 06

万老师在你有你的计划，世界另有计划书中说到，「一切都是确定的，哪有什么随机性可言？」比如抽签，为什么你抽中了这个签？那是因为你手的动作。你手的动作，是你大脑中某个电信号決定的。你的大脑里之所以会有那个电信号，是因为你当时想到了什么东西。你之所以想到那个东西，和你昨天晚上做的梦有关。你之所以会做那个梦，又是你以前的经历決定的。总而言之，有果必有因，你也是物理世界的一部分，一切都是确定的。

作者回复：目前来看，物理的微观世界是不确定的，到底是决定论还是随机论？目前随机论解释力更强。效果随机的意思是，宏观上我们无法预测，把它看成随机，用概率处理可能性的度量。

### 07

石头剪刀布」这种游戏，它的规则十分简单、也很容易操作。事实上，在当今社会上，很多事情我们都会通过摇号、抽签的方式来解決，也是运用了「石头剪刀布」的随机的思维方式。而「石头剪刀布」之所以被人广泛接受并流行，最重要的原因就是它的相对公平性，三者一物降一物，一目了然；选择石头剪刀布、或者是掷骰子，就是把裁決权交给随机性，既方便又公平。选择随机性、接受命运的安排，每个人每次都有 50% 的可能性贏；只要时间足够长，大数定律会确保参与这种博弈的每个人、谁也不会吃亏。虽然这种方式只是效果随机、并非真随机；但却是相对公平的好方法。所以，我们现代人有的时候就是太相信科学、也太相信自己，而对随机性用得太少了；其实，把裁決交给随机的命运，有时候也不失为解決问题的一种好方法。

作者回复：古代的巫师占ト，就是这个路数。当我们无法控制的时候，交给随机，本身就是一种解決问题的思路。我就经常和女儿掷骰子決定谁去拿快递。

### 08

有些疑惑，概率论是建立在效果随机上的吗？因为您说真随机是不可预测的，这点没有想明白，如果真随机已经穷尽所有结果，为什么还不可预测？今日得到：一直以为随机和不确定性是一回事，今天才明白不确定性跟随机最大的区别是，对结果有没有确定性。

作者回复：穷尽所有结果，我却不知道下一次究竟是哪种结果，这就是不可预测。而我唯一可知道的是下一次出现某种结果的可能性，对这种可能性的度量，就概率。

### 09

卓老板的密码学课说过，这种播放歌曲的人造伪随机叫「同余随机」。这里请教一下刘老师，您讲的投篮等效果随机是不是也有可能其背后有规律可循，只是我们不知道罢了？如果我们只是不清楚其背后的规律，是否还能用概率的方法去评估呢？

作者回复：投篮基本和抛硬币类似，你很难精准定出手的所有细微变化，都是效果随机，但是投篮是可以通过努力改变概率，而抛硬币不行。

### 10

我有一个问题，困抗许久。多数书籍讲随机都是解释随机现象，没有解释随机现象出现背后的深层次原因，你能不能解释一下。

作者回复：波尔表示量子随机就是个事实没有原因。效果随机是，影响因素太多，很多影响因素的作用下，每一个随机事件的结果不知道、不能、不值得随时计算。但整体呈现可被研究的规律。