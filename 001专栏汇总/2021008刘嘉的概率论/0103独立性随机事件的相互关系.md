# 0103. 独立性：随机事件的相互关系

刘嘉·概率论 22 讲

2020-07-19

了解了概率论中随机和概率这两个基石之后，这一讲，我们学习概率论的第三个基石性概念 —— 独立性。这个概念很重要，因为它描述的是随机事件之间的相互关系。只有明白了一个随机事件和其他随机事件的关系，判断它们之间是否具有独立性，才能正确分析和度量它的概率。

## 3.1 随机事件的两种关系

什么是「独立性」呢？通俗地讲，如果随机事件之间没有任何关联，我们就可以说这些随机事件是相互独立的，它们之间就具备独立性。而这种具备独立性的随机事件，也被称为「独立事件」。

好像有点儿抽象，举个例子你就明白了。比如，今天晚上你想吃火锅，可是你女朋友想减肥，她提议吃蔬菜沙拉，然后你们抛硬币决定，正面就吃火锅，反面就吃沙拉。第一次，你抛了正面，你女朋友说没开始呢，让你再抛；第二次，你又抛了正面，你女朋友说这只是试试，不算。也许是冥冥之中火锅店老板庇佑，你连续抛了 5 次都是正面。你女朋友惊呆了，她说，最后一次，再抛个正面我们就去吃火锅，如果是反面，你还得陪我吃沙拉。

问题来了，今天晚上你们到底更可能吃火锅呢？还是更可能吃沙拉呢？也就是问，第 6 次抛硬币，结果是正面的概率是多少呢？你可能觉得，都连着扔了 5 次正面了，这一次硬币出现正面的概率肯定更小，出现反面的概率更大了。这个判断对吗？不对。这就是我们常听到的「赌徒谬误」。当然，你也可能会逆向思维，知道既然前 5 次都是正面，下一次很可能继续是正面。这个判断对不对呢？抱歉，也不对，这就犯了另一个错误，叫「热手谬误」。

1『看到这里，目前知识储备的解读，第六次还是正面的概念跟有没有发生相关。1）前面已经发生了的，不用管，也就是上面的情况，第六次还是正面的概率是 1/2。2）如果一次没抛，问你抛 6 次，6 次全是正面的概率是多少，是 0.5^6。（2021-02-11）』

概率更大也不对、更小也不对，那正确答案是什么呢？我来告诉你吧 —— 第 6 次抛硬币，结果是正面的概率还是 1/2。第 6 次抛硬币跟前面几次抛硬币是相互独立的，不管前 5 次结果怎样，第 6 次出现正面的概率都还是 1/2。这一次抛硬币的结果，不会影响下一次的结果。这就是独立性。抛硬币是一个典型的独立事件。

两个随机事件相互独立，在概率论中说的就是，一个随机事件的发生，不影响另一个随机事件发生的概率。也就是说，下一个随机事件发生的可能性，不会被上一个随机事件所影响。这就是随机事件之间的独立性。而如果两个随机事件之间有影响，那它们之间就是非独立的。

要么具有独立性，要么具有非独立性，概率论研究的所有对象 —— 随机事件之间，只有这两种关系。

## 3.2 独立性的重要意义

到这里你可能会问，知道独立性的定义干嘛？辨别随机事件的独立性有什么意义吗？

为了说明独立性的作用，我们再举个例子。我和我女儿猜拳，前面的课程里说过，我女儿是一个非常差的随机制造者，我发现她每次出石头之后，下一次一定出布。她以为自己每次出拳都是随机的，而我早就发现了这个规律，并且总是靠这个规律赢她。

这个规律代表什么呢？其实，用概率论的语言表达就是 —— 我女儿上一次出拳的结果，影响了下一次出拳。当她上一次出了石头，下一次出拳就不再是石头、剪刀、布各 1/3 的概率了，而是变成了出布的概率是 100%。你看，两次出拳并不具备独立性，而是相互联系、互相影响的。这种会产生相互影响的随机事件，也叫「非独立事件」。因为我女儿前后两次猜拳之间相互影响的规律被我发现了，我就可以通过猜拳使唤她做很多事情。

你看，原本互相独立的事件，当你发现它们之间有关系的时候，对概率的估计、决策的方式都会发生很大的改变。换个角度，我女儿有没有什么对付我的办法呢？如果恰好学习了这一讲，她就会知道，最简单的方法就是打破自己出拳的规律，让每次出拳的结果不会相互影响。这样她每次出拳的结果又是独立事件了，我就拿她没办法了。当然，我希望她不要那么快想到这个办法。

## 3.2 事件的独立性本质上是一个数学概念

听起来挺简单的，但是在现实中，我们真能这么轻松的辨别独立事件吗？事实上，识别随机事件的独立性是非常困难的。给你说个故事，真事儿。2013 年，英国德比郡一个叫约翰的人，在超市买了一小盒鸡蛋，共 6 个。磕开第 1 个，约翰惊喜地发现这是一个双黄蛋。这是他有生以来第一次碰到双黄蛋。接着他又磕开了第 2 个，又是双黄蛋。更神奇的是，约翰接下来又连续磕开 3 个，都是双黄蛋。他欣喜若狂，一不小心把最后一个鸡蛋摔在了地上。见证奇迹的时候到了，这还是一个双黄蛋。

约翰一下买到 6 个双黄蛋的奇闻，被媒体争相报道。英国有机构的数据显示：母鸡平均每下 1000 个鸡蛋，才会出现 1 个双黄蛋，也就是说，双黄蛋的概率是 1/1000。那么，一盒里 6 个都是双黄蛋的概率是多少呢？如果我们假设，盒子里这个鸡蛋是双黄蛋和那个鸡蛋是双黄蛋，是完全的独立事件，两者毫无关系。那么连续 6 个都是双黄蛋的概率，就是每个鸡蛋是双黄蛋的概率的乘积，就是 1/1000 的六次方，也就是 10 的 18 次方分之一。

10 的 18 次方分之一意味着什么呢？假如你每秒磕开 6 个鸡蛋，现在让你每秒 6 个、每秒 6 个的磕，要磕多久才能保证，在某一秒里 6 个鸡蛋都是双黄蛋的情况，至少出现一次呢？大约 317 亿年。要知道，宇宙从大爆炸到现在也就是 138 亿年。这个时间是宇宙年龄的两倍多。你说，这是多么罕见的事情啊。那这个约翰是不是史上最幸运的人呢？还真不是。因为约翰并不是宇宙诞生以来连续磕出 6 个双黄蛋的第一人。就在 3 年前，在英国另一个地方，还发生过一次几乎一模一样的事情。

按说，理论计算不应该和事实有如此大的差别。这不禁让我们困惑，问题出在哪儿呢？会不会是这么计算有问题呢？还记得这种计算方式的前提吗？对，就是我们一开始的那个假设 —— 同一个盒子里，这个鸡蛋是双黄蛋，和另一个鸡蛋是双黄蛋，是独立事件。也许这个假设是错的。

首先就有专家提出质疑，母鸡下双黄蛋的概率受自身年龄的影响。越年轻的母鸡，下双黄蛋的概率越大。一只刚开始下蛋的母鸡，下双黄蛋的概率要远远高于 1/1000。而在现代化的农场里，母鸡是分批次养殖的。同一批母鸡，会在相同的时间长大、开始产蛋。所以如果恰好买到这批年轻母鸡下的蛋，出现双黄蛋的概率就要大得多。

另一方面，我们都知道，鸡蛋大小不同，往往售价不同。所以无论是工作人员，还是自动化机器，在分拣包装鸡蛋时，往往会区分大小，把大个儿的放在一个盒子里。这样，只要盒子里第一个放进去的是大个儿的鸡蛋，后面几个也放大个儿鸡蛋的概率就会大大增加。而双黄蛋普遍比一般鸡蛋个头大，在芸芸众蛋中十分显眼，所以被捡到一个盒子里的概率就会大幅度提升。

你看，很多我们以为的独立事件，也许并不具有独立性。像这个鸡蛋是双黄蛋和那个鸡蛋是双黄蛋，这样两个看起来毫不相关的事件，都因为鸡蛋个头的大小，被扯上了千丝万缕的联系。

现在你明白了吗？独立事件，只是我们描述某些随机事件的数学模型罢了。这种数学模型，可能真的是因为这些随机事件之间没有关系，不互相影响；也可能是因为一些随机事件存在内在联系，但我们并不知道；还有一种可能就是，假设这些随机事件之间相互独立，可以简化我们对概率的计算。但不管怎样，在现实生活中，判断随机事件是否独立时要格外小心。很多情况下，如果错把互相影响的事件当成了独立事件，就会得出离真相很远的答案。

回到最开始男女朋友抛硬币决定吃火锅还是沙拉的例子。如果男朋友抛了 100 次都是正面，你觉得下一次会是正面还是反面呢？概率还都是 1/2 吗？不。这时候，你就不应该还假设两次抛硬币是互不影响的独立事件了，而是要检查男朋友抛的那个硬币是不是有问题。

## 黑板墙

思考题：现实生活中，你还能找到貌似是相互独立的事件，其实是相互影响、相互联系的吗？

下节预告：搞清楚了随机事件的关系，我们就可以对一个随机事件的概率进行计算了。下一讲，我们就学习一下概率论大厦的第四个基石 —— 概率计算。

### 01

行为心理学中的锚定效应，就是通过引入参照物，从而改变了你对事情的预期和看法，让看似相互独立的事件，变成了个条件概率。比如当你感到冷的时候，我让你估计当地的平均气温，你的答案往往要比正确的气温低一些。人的本能也总是让我们远离独立性。比如魔术师给你面前摆 4 张牌让你抽，你总是有更大几率会去拿中间两张。如果魔术师碰巧把 1 张牌摆的更靠近你，你也会有超过 1/4 的可能去拿那张牌。而且，越是重要的时刻，你越会按直觉行事。坏运气也会传染。比如在足球比赛的点球大战中，如果第一个出场的球员把球踢飞了，那后面出场的本方球员，有相当大的可能性也会犯类似的错误。因此，教练总是安排最有把握的那个人第一个出场，他不相信球员射门这个事件是相互独立的。

作者回复：一切都是条件概率。

### 02

6 次已经值得我们深想一步，这「硬币」是不是有问题了。（不过「6 次朝上」的概率，其实并没有直觉的那么小）此条规则普遍应用到生活中的重要決策下。用「利益关系」去衡量下对手与自己的关系后，我一般会选择不玩。「双黄蛋」的例子很吸引人，但让我想到了另外一个维度：虽然出现一次需要 317 亿年，但这是只考虑单个人操作的情况下，如果全球 80 亿人都能吃上鸡蛋，这个数字也会有数量级的下降。赌场中的单次赌局，一般都是「独立事件」。但是，能够「长期并稳定」的在赌场中赚钱的人，一定不是「赌徒」。推广到资本市场，能够长期在股市中赚钱的人一定靠的不是「运气」。战胜库里的方法只有两个：1）只跟库里比投 1 球，而不是 3 个，4 个或是更多。（虽然这也比较渺茫，但却是有可能实现的方法）。2）或者试试跟他打乒乓球。

作者回复：1）概率占优，长期竟争；概率劣势，2）決一死战。战不过，换战场，商业领域也是一样。

### 03

大学生考研是有一定升学率的，平均到每个考生是一个低概率事件，而一个宿舍 4 个同学一起考上的概率是 4 个低概率的乘积，就更低得离谱了。以上的评判是把一个宿舍 4 位同学考研看作是 4 个独立事件而计算出来的概率。其实他们并不是完全相互独立的，他们之间有学习促进的关联性，良好的学习氛围让他们考研的概率大幅提高。因此不少学校都会出现这种现象，概率并不像计算的那么低。这种学习氛围的相关性也是孟母三迁的底层逻辑。

作者回复：有趣的答案。补充一点，女性和男性可能不一样。我在大学这么多年，学霸宿舍大都是女生宿舍，女生更容易相互促进。而很少会有男性学霸宿舍，很多男性学霸的宿舍里往往都有学渣。我的感受是男性往往想，不怕输（不了就算了，差距太大就躺倒了），而女性不一定追求赢，但是怕输。

### 04

概率的计算，需要分析几个影响要素之间为独立性还是非独立性，方能做出理性的判断，对于独立事件而言，即使连续的发生，每次的概率并不会有变化。但生活中其实很多概率为非独立性，比如有时开车走一条路，会连续遇到好几个红灯，而有时又是畅通无阻，每一个信号灯、距离、时速，会有一定的关系。

作者回复：所以，这世上所有的概率都是条件概率。

### 05

年轻人如果一开始走向社会就遇上一个骗子，损失惨重，就容易怀疑人生，不太愿意去相信陌生人；反过来说，好朋友不也是从陌生发展而来的么。所以，封闭自己从感性角度来说是合理的，从理性角度来看是以偏概全。那该怎么办呢？小时候好好学习，长大了认真工作，不断地跃迁进入更好的圈子，从「概率」上去来说，结果就能大体上让人接受。这也能解释，吴军老师说，他做人的原则就是「假定遇到的每一个人都是真诚善良的，默认选择相信，一旦这个人有骗行为，以后就不再联系」。

作者回复：接着吴军老师的话，有没有想过，为什么只要欺骗一次就不再联系了呢？好人善良的人偶尔也会欺骗别人一次啊。这就是贝叶斯公式中，一个你看了公式就能领悟到的性质。

### 06

说到这个独立事件。其实在医学史上有一个非常著名的故事。新生儿猝死证，在理论上发生率是 2-3‰。有一个英国妇女连续有两个小孩都发生了新生儿猝死症，大家都觉得她太不幸了，结果第 3 个小孩又发生了新生儿猝死症，这时候大家把该事件看成独立事件，加起来存起来的话这个几率就太小了，所以很多医生甚至法官都判断这个女人很可能杀害了自己的小孩，但是实际上这并不是一个独立事件。既然她生的第 1 个小孩发生了新生儿猝死症，那么他后面的小孩发生新生儿的初始症的几率就大大增加了。最后还是一个优秀的统计学家和医学家一起说明了情况，解救了这个无辜又伤心的母亲。

作者回复：这是一个在概率统计上著名的悲剧。